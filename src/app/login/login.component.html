<div class="bg-color">
  <mat-card class="pb-4">
    <mat-card-header>
      <mat-card-title>
        <div class="text-center">
          <img src="assets\logo\kkheaderlogo.png" width="35%" />
          <h6 class="text-darkslateblue">Friends of Farmer</h6>
          <p class="text-darkslateblue">Login</p>
        </div>
      </mat-card-title>
    </mat-card-header>

    <!-- Customer Login Form -->
    <mat-tab-group mat-align-tabs="center" mat-stretch-tabs>
      <mat-tab label="Customer Login">
        <form [formGroup]="custLoginFormGroup" class="mt-3" *ngIf="UserInput" (ngSubmit)="sendLoginCode()">
          <mat-form-field appearance="outline">
            <mat-label>Mobile Number</mat-label>
            <input matInput type="text" placeholder="Enter Your Mobile Number" formControlName="mobile" inputmode="numeric">
            <mat-icon matSuffix>phone_enabled</mat-icon>
            <mat-error *ngIf="custLoginFormGroup?.controls?.mobile?.hasError('required')">Contact Number is
              <strong>required.</strong></mat-error>
            <mat-error
              *ngIf="custLoginFormGroup?.controls?.mobile?.hasError('minlength') || custLoginFormGroup?.controls?.mobile?.hasError('maxlength')">
              Please enter 10 digits.</mat-error>
            <mat-error *ngIf="custLoginFormGroup?.controls?.mobile?.hasError('pattern')">Wrong contact number.
            </mat-error>
          </mat-form-field>
          
          <div id="recaptcha-container" data-sitekey="6LeUhO4UAAAAADGWlc7K8AEs3m8d3yqdJzfI25M5"></div>    

          <div class="mt-2">
            <button mat-raised-button color="darkslateblue" class="w-100" (click)="sendLoginCode()">
              <i class="fa fa-sign-in"></i> Login via OTP</button>
          </div>
        </form>

        <form [formGroup]="OTPFormGroup" class="mt-3" *ngIf="confirmCode" (ngSubmit)="loginViaOTP()">
          <mat-form-field appearance="outline">
            <mat-label>OTP</mat-label>
            <input matInput type="text" placeholder="Enter OTP Number" formControlName="otp" inputmode="numeric">
            <mat-icon matSuffix>vpn_key</mat-icon>
            <mat-error *ngIf="OTPFormGroup?.controls?.otp?.hasError('required')">OTP is
              <strong>required.</strong></mat-error>
            <mat-error
              *ngIf="OTPFormGroup?.controls?.otp?.hasError('minlength') || OTPFormGroup?.controls?.otp?.hasError('maxlength')">
              Please enter 6 digits.</mat-error>
          </mat-form-field>

          <div class="mt-2">
            <button mat-raised-button color="darkslateblue" class="w-100" (click)="loginViaOTP()">
              <i class="fa fa-sign-in"></i> Login</button>
          </div>
        </form>

        <!-- Divider -->
        <div class="container my-3">
          <div class="row">
            <div class="col-5 mt-3">
              <mat-divider></mat-divider>
            </div>
            <div class="col-2 mt-1 pl-4">
              OR
            </div>
            <div class="col-5 mt-3">
              <mat-divider></mat-divider>
            </div>
          </div>
        </div>

        <!-- Social Buttons -->
        <div>
          <button mat-raised-button class="w-100 my-2" color="warn" (click)="signInWithGoogle()">
            <i class="fa fa-google"></i> Login with Google</button>
          <button mat-raised-button class="w-100 my-2" color="primary" (click)="signInWithFB()">
            <i class="fa fa-facebook-f"></i> Login with Facebook</button>
        </div>
      </mat-tab>

      <mat-tab label="Seller Login">
        <form class="mt-3" [formGroup]="sellerLoginFormGroup" (ngSubmit)="signInRegular()">
          <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput type="email" placeholder="Enter Username" formControlName="username" inputmode="email">
            <mat-icon matSuffix>person</mat-icon>
            <mat-error *ngIf="sellerLoginFormGroup?.controls?.username?.hasError('required')">Username is
              <strong>required.</strong></mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="my-2">
            <mat-label>Password</mat-label>
            <input matInput type="password" placeholder="Enter Password" formControlName="password">
            <mat-icon matSuffix>vpn_key</mat-icon>
            <mat-error *ngIf="sellerLoginFormGroup?.controls?.password?.hasError('required')">Password is
              <strong>required.</strong></mat-error>
          </mat-form-field>

          <button mat-button color="darkslateblue"><a routerLink='/forgetPwd' class="text-decoration-none text-darkslateblue">Forgot Password?</a></button>
          <button mat-button color="darkslateblue"><a routerLink='/Reg' class="text-decoration-none text-darkslateblue">Create account</a></button>
          <button mat-raised-button color="darkslateblue" class="w-25" (click)="signInRegular()">Login</button>
      </form>
      </mat-tab>
    </mat-tab-group>
  </mat-card>
</div>